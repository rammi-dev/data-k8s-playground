# Rook-Ceph Helm Values Override
# See: https://github.com/rook/rook/blob/master/deploy/charts/rook-ceph/values.yaml

# Resource limits for development/testing environment
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

# Enable discovery daemon for device detection
enableDiscoveryDaemon: true

# CSI driver settings
csi:
  enableRbdDriver: true
  enableCephfsDriver: true

  # Resource limits for CSI pods
  csiRBDProvisionerResource: |
    - name : csi-provisioner
      resource:
        requests:
          memory: 64Mi
          cpu: 50m
        limits:
          memory: 256Mi
          cpu: 200m

  csiCephFSProvisionerResource: |
    - name : csi-provisioner
      resource:
        requests:
          memory: 64Mi
          cpu: 50m
        limits:
          memory: 256Mi
          cpu: 200m

# Monitoring - disable by default for dev environment
monitoring:
  enabled: false

# ============================================
# Custom template values (for our templates)
# ============================================

# CephCluster configuration
cluster:
  enabled: true
  cephVersion: "quay.io/ceph/ceph:v18.2"
  mon:
    count: 3
    allowMultiplePerNode: true  # Required for minikube
  mgr:
    count: 1
  dashboard:
    enabled: true
  storage:
    useAllNodes: true
    useAllDevices: false
    directories:
      - path: /var/lib/rook

# Object Store (S3 gateway)
objectStore:
  enabled: true
  name: "s3-store"
  metadataPool:
    size: 2
  dataPool:
    size: 2
  gateway:
    port: 80
    instances: 1

# Storage Classes
storageClass:
  enabled: true

